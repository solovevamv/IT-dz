{"ast":null,"code":"var _jsxFileName = \"/Users/antontintul/WebstormProjects/burkov-dz/src/Form/index.js\",\n    _s = $RefreshSig$();\n\nimport './index.css';\nimport { Input } from \"../Input\";\nimport { useState } from \"react\";\nimport { Select } from \"../Select\";\nimport { Button } from \"../Button\";\nimport { StatusBlock } from \"../StatusBlock\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Form = props => {\n  _s();\n\n  const {\n    list,\n    setList,\n    options,\n    type,\n    action\n  } = props;\n  let defaultName = '';\n  let defaultSelectedManager = '';\n  let defaultReason = '';\n\n  if (action === 'change') {\n    let searchParams = new URLSearchParams(window.location.pathname);\n    console.log(searchParams);\n  }\n\n  const [name, setName] = useState(defaultName);\n  const [selectedManager, setSelectedManager] = useState(defaultSelectedManager);\n  const [reason, setReason] = useState(defaultReason);\n  const [formStatus, setFormStatus] = useState('');\n\n  const onChangeSelect = event => {\n    setSelectedManager(event.target.value);\n  };\n\n  const onChangeReason = event => {\n    setReason(event.target.value);\n  };\n\n  const onChangeName = event => {\n    setName(event.target.value);\n  };\n\n  const onSubmitForm = event => {\n    event.preventDefault();\n\n    if (type === \"clients\") {\n      if (!name || !selectedManager || !reason) {\n        setFormStatus('alert');\n        return;\n      }\n    } else {\n      if (!name) {\n        setFormStatus('alert');\n        return;\n      }\n    }\n\n    const array = list.map(value => {\n      return value;\n    });\n    array.push({\n      managerId: Number(selectedManager),\n      firstName: name,\n      description: reason\n    });\n    setList(array);\n    setFormStatus('success');\n    setName('');\n    setSelectedManager('');\n    setReason('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: onSubmitForm,\n    children: [/*#__PURE__*/_jsxDEV(StatusBlock, {\n      type: formStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      title: \"Имя\",\n      value: name,\n      onChange: onChangeName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), type === 'clients' && /*#__PURE__*/_jsxDEV(Input, {\n      value: reason,\n      title: \"Причина звонка\",\n      onChange: onChangeReason\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this), type === 'clients' && /*#__PURE__*/_jsxDEV(Select, {\n      title: \"\\u041C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440 \\u0434\\u043B\\u044F \\u043E\\u0431\\u0437\\u0432\\u043E\\u043D\\u0430\",\n      value: selectedManager,\n      options: options.map(value => {\n        return value.firstName;\n      }),\n      placeholder: \"Выбери имя\",\n      onChange: onChangeSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: 'Form-Submit',\n      submit: true,\n      type: \"action\",\n      children: action === 'change' ? 'Изменить' : 'Добавить'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Form, \"5MZZp+onX+ZqIXCi6+WrsUKRp68=\");\n\n_c = Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/Users/antontintul/WebstormProjects/burkov-dz/src/Form/index.js"],"names":["Input","useState","Select","Button","StatusBlock","Form","props","list","setList","options","type","action","defaultName","defaultSelectedManager","defaultReason","searchParams","URLSearchParams","window","location","pathname","console","log","name","setName","selectedManager","setSelectedManager","reason","setReason","formStatus","setFormStatus","onChangeSelect","event","target","value","onChangeReason","onChangeName","onSubmitForm","preventDefault","array","map","push","managerId","Number","firstName","description"],"mappings":"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","sourcesContent":["import './index.css';\nimport {Input} from \"../Input\";\nimport {useState} from \"react\";\nimport {Select} from \"../Select\";\nimport {Button} from \"../Button\";\nimport {StatusBlock} from \"../StatusBlock\";\n\nexport const Form = (props) => {\n    const {\n        list,\n        setList,\n        options,\n        type,\n        action\n    } = props;\n    let defaultName = '';\n    let defaultSelectedManager = '';\n    let defaultReason = '';\n    if (action === 'change') {\n        let searchParams = new URLSearchParams(window.location.pathname);\n        console.log(searchParams);\n    }\n\n    const [name, setName] = useState(defaultName);\n    const [selectedManager, setSelectedManager] = useState(defaultSelectedManager);\n    const [reason, setReason] = useState(defaultReason);\n    const [formStatus, setFormStatus] = useState('');\n\n\n    const onChangeSelect = (event) => {\n        setSelectedManager(event.target.value);\n    };\n\n    const onChangeReason = (event) => {\n        setReason(event.target.value);\n    };\n\n    const onChangeName = (event) => {\n        setName(event.target.value);\n    }\n\n    const onSubmitForm = (event) => {\n        event.preventDefault();\n        if (type === \"clients\") {\n            if (!name || !selectedManager || !reason) {\n                setFormStatus('alert');\n                return;\n            }\n        } else {\n            if (!name) {\n                setFormStatus('alert');\n                return;\n            }\n        }\n        const array = list.map((value) => {\n            return value;\n        });\n\n        array.push({\n            managerId: Number(selectedManager),\n            firstName: name,\n            description: reason,\n        });\n\n        setList(array);\n        setFormStatus('success');\n        setName('');\n        setSelectedManager('');\n        setReason('');\n    };\n\n    return (\n        <form onSubmit={onSubmitForm}>\n            <StatusBlock type={formStatus} />\n            <Input\n                title={\"Имя\"}\n                value={name}\n                onChange={onChangeName}\n            />\n            { type === 'clients' && (\n                <Input\n                    value={reason}\n                    title={\"Причина звонка\"}\n                    onChange={onChangeReason}\n                />\n            )}\n            { type === 'clients' && (\n                <Select\n                    title=\"Менеджер для обзвона\"\n                    value={selectedManager}\n                    options={options.map((value) => {\n                        return value.firstName;\n                    })}\n                    placeholder={\"Выбери имя\"}\n                    onChange={onChangeSelect}\n                />\n            )}\n            <Button className={'Form-Submit'} submit={true} type=\"action\">{(action === 'change') ? 'Изменить' : 'Добавить'}</Button>\n        </form>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}